<!doctype html>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
    <!--Setting-->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <meta name="renderer" content="webkit|ie-comp|ie-stand">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="format-detection" content="telephone=no,email=no">
    
    
    <!--Simple SEO-->

<meta name="description" content="程序员的梦工厂/">


<meta name="robots" content="all">
<meta name="google" content="all">
<meta name="googlebot" content="all">
<meta name="verify" content="all">
    <!--Title-->

<title>小小杰博客</title>

<link rel="alternate" href="/atom.xml" title="小小杰博客" type="application/atom+xml">


<link rel="icon" href="/favicon.ico">

    
<link rel="stylesheet" href="/css/base.css">
<link rel="stylesheet" href="/css/pages/article-exp.css">
<link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="/css/thirdParty/highlight/github.css">


    <!--script-->



<!--<script src="https://imsun.github.io/gitment/dist/gitment.browser.js"></script>-->



    
    
</head>
</html>
<body id="normal">
<!--[if lte IE 8]>
<style>
    html{ font-size: 1em }
</style>
<![endif]-->
<!--[if lte IE 9]>
<style>
    header{ top: 71px; position: absolute!important;}
    #container{padding-top: 151px!important;}
</style>
<div style="position:fixed;z-index:9999;left:0;top:0;width:100%;height:70px;background-color:#e0e0e0;color:#396CA5;border-bottom:1px solid #cecece;text-align:center;line-height:70px;white-space: nowrap;overflow: hidden;text-overflow: ellipsis">你使用的浏览器版本过低，为了你更好的阅读体验，请更新浏览器的版本或者使用其他现代浏览器，比如Chrome、Firefox、Safari等。</div>
<![endif]-->

<div id="wrap">
    <header>
    <div id="site-meta">
        <a href="/" id="logo">
            <h1 class="title">小小杰博客</h1>
        </a>
        
        <h2 class="subtitle">锦绣前程</h2>
        
    </div>
    <ul id="nav">
        
            <li><a href="/"><i class="fa fa-home"></i>首页</a></li>
        
            <li><a href="/2018/12/15/about/"><i class="fa fa-user"></i>关于我</a></li>
        
            <li><a href="/atom.xml"><i class="fa fa-rss"></i>RSS</a></li>
        
        <li id="search"><a href="javascript:void(0)"><i class="fa fa-search"></i>搜索</a></li>
    </ul>
</header>

    <div id="container">
        
<ul id="sidebar">
    
    
<li class="widget notification">
    <i class="fa fa-bell-o"></i>
    <div>
        
<p>学而时习之，不亦乐乎</p>
    </div>
</li>

    
    
<li class="widget widget-normal category">
    <h3 class="fa fa-th widget-title">分类</h3>
    <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/工具/"><i class="fa" aria-hidden="true">工具</i></a><span class="category-list-count">4</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/工具/Maven/"><i class="fa" aria-hidden="true">Maven</i></a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/工具/docker/"><i class="fa" aria-hidden="true">docker</i></a><span class="category-list-count">3</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/并发编程/"><i class="fa" aria-hidden="true">并发编程</i></a><span class="category-list-count">8</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/框架/"><i class="fa" aria-hidden="true">框架</i></a><span class="category-list-count">10</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/框架/Spring/"><i class="fa" aria-hidden="true">Spring</i></a><span class="category-list-count">10</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/消息中间件/"><i class="fa" aria-hidden="true">消息中间件</i></a><span class="category-list-count">5</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/消息中间件/Kafka/"><i class="fa" aria-hidden="true">Kafka</i></a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/消息中间件/RabbitMQ/"><i class="fa" aria-hidden="true">RabbitMQ</i></a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link current" href="/categories/随笔/"><i class="fa" aria-hidden="true">随笔</i></a><span class="category-list-count">5</span></li></ul>
</li>


    
    
<li class="widget widget-normal archive">
  <h3 class="fa fa-archive widget-title">时光轴</h3>
    <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/04/"><i class="fa" aria-hidden="true">四月 2020</i></a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/"><i class="fa" aria-hidden="true">七月 2019</i></a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/06/"><i class="fa" aria-hidden="true">六月 2019</i></a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/"><i class="fa" aria-hidden="true">三月 2019</i></a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/02/"><i class="fa" aria-hidden="true">二月 2019</i></a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/"><i class="fa" aria-hidden="true">十二月 2018</i></a><span class="archive-list-count">5</span></li></ul>
</li>


    
    

    
    
<li class="widget widget-normal tags">
  <h3 class="fa fa-tags widget-title">标签云</h3>
  <div class="tagcloud-content">
    
      <a href="/tags/Kafka/" style="font-size: 0.17rem; color: #386da4">Kafka</a> <a href="/tags/关于我/" style="font-size: 0.14rem; color: #69c">关于我</a> <a href="/tags/事务/" style="font-size: 0.14rem; color: #69c">事务</a> <a href="/tags/索引/" style="font-size: 0.14rem; color: #69c">索引</a> <a href="/tags/jvm/" style="font-size: 0.14rem; color: #69c">jvm</a> <a href="/tags/类加载/" style="font-size: 0.14rem; color: #69c">类加载</a> <a href="/tags/docker/" style="font-size: 0.16rem; color: #4f83b8">docker</a> <a href="/tags/排序/" style="font-size: 0.14rem; color: #69c">排序</a> <a href="/tags/Maven/" style="font-size: 0.14rem; color: #69c">Maven</a> <a href="/tags/RabbitMQ/" style="font-size: 0.14rem; color: #69c">RabbitMQ</a> <a href="/tags/Spring/" style="font-size: 0.2rem; color: #0a407c">Spring</a> <a href="/tags/多线程/" style="font-size: 0.18rem; color: #215690">多线程</a>
  </div>
</li>


    
    
<li class="widget widget-normal friends-link">
    <h3 class="fa fa-globe widget-title">友情链接</h3><br>

    
        <a href="http://enjoy.ke.qq.com" class="fa" target="_blank">享学课堂</a>

    
        <a href="http://wuwenliang.net" class="fa" target="_blank">朝·闻·道</a>

    
        <a href="https://pleuvoir.github.io" class="fa" target="_blank">撄而后成</a>

    

</li>


    
</ul>


        <ul id="main">
    

    
    
    
    
    
    
    
    <li class="article-excerpt-wrap " _href="/2019/07/01/spring-8/">
        <div class="article-img img-ajax" data-src="http://ww4.sinaimg.cn/large/006tNc79ly1g4joji8q0qj30hj06eta8.jpg">
           <div class="loading-img"><i class="fa fa-pulse fa-spinner"></i></div>
        </div>
        <div class="article-excerpt">
            
            <a class="article-title-link" href="/2019/07/01/spring-8/">
                <h2 class="article-title">BeanFactory的两个重要后置处理器</h2>
            </a>
            
            <p class="article-content">
                1，扩展原理－BeanFactoryPostProcessor
BeanFactoryPostProcessor：beanFactory的后置处理器；
作用如下：          
a),在BeanFactory标准初始化之后调用，来定制和修改BeanFactory的内容；
b),所有的bean定义已经保存加载到beanFactory，但是bean的实例还未创建
注意：之前也讲过BeanPostProcessor，它是bean后置处理器，bean创建对象初始化前后进行拦截工作的
操作步骤：
1〉新建ExtConfig.java配置类
    
新建JamesBeanFactoryPostProcessor.java处理器类（在com.enjoy.cap12.processor目录下）
 
BeanFacotry是在bean组件创建之前还是之后生成的呢？写一个测试用例

不难发现，在...
            </p>
            <div class="article-meta">
    
    
    <span class="categories-meta fa-wrap">
            <i class="fa fa-folder-open-o"></i>
        <span>Spring</span>
    </span>
    
    
    <span class="fa-wrap">
         <i class="fa fa-tags"></i>
        <span class="tags-meta">
            
            Spring
            
        </span>
    </span>
    
    
    <span class="fa-wrap">
        <i class="fa fa-clock-o"></i>
        <span class="date-meta ">2019/07/01</span>
    </span>
    
    
    
    <a href="/2019/07/01/spring-8/" class="read-article">Read</a>
    
</div>

        </div>
        
    </li>
    
    
    <li class="article-excerpt-wrap " _href="/2019/07/01/spring-7/">
        <div class="article-img img-ajax" data-src="http://ww1.sinaimg.cn/large/006tNc79ly1g4jo2yr3w9j30um0iewn6.jpg">
           <div class="loading-img"><i class="fa fa-pulse fa-spinner"></i></div>
        </div>
        <div class="article-excerpt">
            
            <a class="article-title-link" href="/2019/07/01/spring-7/">
                <h2 class="article-title">声明式事务</h2>
            </a>
            
            <p class="article-content">
                1， 环境搭建：导入数据源、数据库驱动、Spring-jdbc依赖
在pom.xml新增c3p0依赖包(c3p0封装了jdbc 对DataSource接口的实现)
 
在pom.xml新增数据库驱动依赖包
 
在pom.xml新增spring-jdbc依赖包（jdbcTemplate）
 
2，新建Cap10MainConfig,将数据源和操作模板加载到IOC容器中
 
3，新建Order测试表
CREATE TABLE order (  orderid int(11) DEFAULT NULL,  ordertime datetime DEFAULT NULL,  ordermoney decimal(20,0) DEFAULT NULL,  orderstatus char(1) DEFAULT NULL) ENGINE=InnoDB DEFAULT CHARSET=utf8
4...
            </p>
            <div class="article-meta">
    
    
    <span class="categories-meta fa-wrap">
            <i class="fa fa-folder-open-o"></i>
        <span>Spring</span>
    </span>
    
    
    <span class="fa-wrap">
         <i class="fa fa-tags"></i>
        <span class="tags-meta">
            
            Spring
            
        </span>
    </span>
    
    
    <span class="fa-wrap">
        <i class="fa fa-clock-o"></i>
        <span class="date-meta ">2019/07/01</span>
    </span>
    
    
    
    <a href="/2019/07/01/spring-7/" class="read-article">Read</a>
    
</div>

        </div>
        
    </li>
    
    
    <li class="article-excerpt-wrap " _href="/2019/06/30/spring-6/">
        <div class="article-img img-ajax" data-src="http://ww1.sinaimg.cn/large/006tNc79ly1g4jmudvzulj30v705fmxf.jpg">
           <div class="loading-img"><i class="fa fa-pulse fa-spinner"></i></div>
        </div>
        <div class="article-excerpt">
            
            <a class="article-title-link" href="/2019/06/30/spring-6/">
                <h2 class="article-title">Spring的AOP底层源码分析</h2>
            </a>
            
            <p class="article-content">
                使用JoinPoint可以拿到相关的内容, 比如方法名,  参数

那么方法正常返回, 怎么拿方法的返回值呢?

那么如果是异常呢?定义

小结: AOP看起来很麻烦, 只要3步就可以了:
  1,将业务逻辑组件和切面类都加入到容器中, 告诉spring哪个是切面类(@Aspect)
  2,在切面类上的每个通知方法上标注通知注解, 告诉Spring何时运行(写好切入点表达式,参照官方文档)
  3,开启基于注解的AOP模式  @EableXXXX
九 CAP27 AOP 源码透析
 * AOP原理：【看给容器中注册了什么组件，这个组件什么时候工作，这个组件的功能是什么？】
 *     @EnableAspectJAutoProxy；核心从这个入手,AOP整个功能要启作用,就是靠这个,加入它才有AOP
​       跟进@EnableAspectJAutoProxy源码:
//导...
            </p>
            <div class="article-meta">
    
    
    <span class="categories-meta fa-wrap">
            <i class="fa fa-folder-open-o"></i>
        <span>Spring</span>
    </span>
    
    
    <span class="fa-wrap">
         <i class="fa fa-tags"></i>
        <span class="tags-meta">
            
            Spring
            
        </span>
    </span>
    
    
    <span class="fa-wrap">
        <i class="fa fa-clock-o"></i>
        <span class="date-meta ">2019/06/30</span>
    </span>
    
    
    
    <a href="/2019/06/30/spring-6/" class="read-article">Read</a>
    
</div>

        </div>
        
    </li>
    
    
    <li class="article-excerpt-wrap " _href="/2019/06/25/docker-3/">
        <div class="article-img img-ajax" data-src="http://ww4.sinaimg.cn/large/006tNc79ly1g4jmpl177jj30e001o3yn.jpg">
           <div class="loading-img"><i class="fa fa-pulse fa-spinner"></i></div>
        </div>
        <div class="article-excerpt">
            
            <a class="article-title-link" href="/2019/06/25/docker-3/">
                <h2 class="article-title">docker实战</h2>
            </a>
            
            <p class="article-content">
                nginx镜像制作实战docker容器的主业docker理念里，容器启动时，应当为它指定主业是什么，如nginx容器主业就是nginx代理服务，tomcat容器就是web服务等等
1、容器创建时，必须指定主业任务，如不指定，则容器无事可干立即退出。
2、在dockerfile打包镜像时，可以使用cmd命令来指定一个默认的主业，如下：

3、既然镜像里是默认主业，即意味着创建容器时，可以覆盖此默认命令，如下

推荐的 ENTRYPOINT方式1、镜像本身应该有稳定的主业，应当指定后即不能更改用途，于是引入ENTRYPOINT
2、使用ENTRYPOINT字义即容器入口，它不能被run中cmd覆盖，如下例：

执行：docker build -t nginxx:v3 .

以后使用nginxx:v3这个镜像时，只能做nginx服务来使用啦
手动打包springboot镜像我们需要对业务项...
            </p>
            <div class="article-meta">
    
    
    <span class="categories-meta fa-wrap">
            <i class="fa fa-folder-open-o"></i>
        <span>docker</span>
    </span>
    
    
    <span class="fa-wrap">
         <i class="fa fa-tags"></i>
        <span class="tags-meta">
            
            docker
            
        </span>
    </span>
    
    
    <span class="fa-wrap">
        <i class="fa fa-clock-o"></i>
        <span class="date-meta ">2019/06/25</span>
    </span>
    
    
    
    <a href="/2019/06/25/docker-3/" class="read-article">Read</a>
    
</div>

        </div>
        
    </li>
    
    
    <li class="article-excerpt-wrap " _href="/2019/06/20/thread-8/">
        <div class="article-img img-ajax" data-src="http://ww2.sinaimg.cn/large/006tNc79ly1g4jngm80mwj30pc02bmx7.jpg">
           <div class="loading-img"><i class="fa fa-pulse fa-spinner"></i></div>
        </div>
        <div class="article-excerpt">
            
            <a class="article-title-link" href="/2019/06/20/thread-8/">
                <h2 class="article-title">Java8新增的并发</h2>
            </a>
            
            <p class="article-content">
                原子操作CASLongAdderJDK1.8时，java.util.concurrent.atomic包中提供了一个新的原子类：LongAdder。 根据Oracle官方文档的介绍，LongAdder在高并发的场景下会比它的前辈————AtomicLong 具有更好的性能，代价是消耗更多的内存空间。
AtomicLong是利用了底层的CAS操作来提供并发性的，调用了Unsafe类的getAndAddLong方法，该方法是个native方法，它的逻辑是采用自旋的方式不断更新目标值，直到更新成功。
在并发量较低的环境下，线程冲突的概率比较小，自旋的次数不会很多。但是，高并发环境下，N个线程同时进行自旋操作，会出现大量失败并不断自旋的情况，此时AtomicLong的自旋会成为瓶颈。
这就是LongAdder引入的初衷——解决高并发环境下AtomicLong的自旋瓶颈问题。
AtomicLo...
            </p>
            <div class="article-meta">
    
    
    <span class="categories-meta fa-wrap">
            <i class="fa fa-folder-open-o"></i>
        <span>并发编程</span>
    </span>
    
    
    <span class="fa-wrap">
         <i class="fa fa-tags"></i>
        <span class="tags-meta">
            
            多线程
            
        </span>
    </span>
    
    
    <span class="fa-wrap">
        <i class="fa fa-clock-o"></i>
        <span class="date-meta ">2019/06/20</span>
    </span>
    
    
    
    <a href="/2019/06/20/thread-8/" class="read-article">Read</a>
    
</div>

        </div>
        
    </li>
    
    
    <li class="article-excerpt-wrap " _href="/2019/06/20/thread-7/">
        <div class="article-img img-ajax" data-src="http://ww4.sinaimg.cn/large/006tNc79ly1g4jndhqd1cj30mg0lcwke.jpg">
           <div class="loading-img"><i class="fa fa-pulse fa-spinner"></i></div>
        </div>
        <div class="article-excerpt">
            
            <a class="article-title-link" href="/2019/06/20/thread-7/">
                <h2 class="article-title">JMM和底层实现原理</h2>
            </a>
            
            <p class="article-content">
                JMM基础-计算机原理Java内存模型即Java Memory Model，简称JMM。JMM定义了Java 虚拟机(JVM)在计算机内存(RAM)中的工作方式。JVM是整个计算机虚拟模型，所以JMM是隶属于JVM的。Java1.5版本对其进行了重构，现在的Java仍沿用了Java1.5的版本。Jmm遇到的问题与现代计算机中遇到的问题是差不多的。
物理计算机中的并发问题，物理机遇到的并发问题与虚拟机中的情况有不少相似之处，物理机对并发的处理方案对于虚拟机的实现也有相当大的参考意义。
根据《Jeff Dean在Google全体工程大会的报告》我们可以看到

计算机在做一些我们平时的基本操作时，需要的响应时间是不一样的。
（以下案例仅做说明，并不代表真实情况。）
如果从内存中读取1M的int型数据由CPU进行累加，耗时要多久？
做个简单的计算，1M的数据，Java里int型为32位，4个...
            </p>
            <div class="article-meta">
    
    
    <span class="categories-meta fa-wrap">
            <i class="fa fa-folder-open-o"></i>
        <span>并发编程</span>
    </span>
    
    
    <span class="fa-wrap">
         <i class="fa fa-tags"></i>
        <span class="tags-meta">
            
            多线程
            
        </span>
    </span>
    
    
    <span class="fa-wrap">
        <i class="fa fa-clock-o"></i>
        <span class="date-meta ">2019/06/20</span>
    </span>
    
    
    
    <a href="/2019/06/20/thread-7/" class="read-article">Read</a>
    
</div>

        </div>
        
    </li>
    
    
    <li class="article-excerpt-wrap " _href="/2019/06/20/thread-6/">
        <div class="article-img img-ajax" data-src="http://ww3.sinaimg.cn/large/006tNc79ly1g4jn032ltqj30qk0fzdgx.jpg">
           <div class="loading-img"><i class="fa fa-pulse fa-spinner"></i></div>
        </div>
        <div class="article-excerpt">
            
            <a class="article-title-link" href="/2019/06/20/thread-6/">
                <h2 class="article-title">并发安全</h2>
            </a>
            
            <p class="article-content">
                如果多线程下使用这个类，不过多线程如何使用和调度这个类，这个类总是表示出正确的行为，这个类就是线程安全的。
类的线程安全表现为：
l  操作的原子性
l  内存的可见性
不做正确的同步，在多个线程之间共享状态的时候，就会出现线程不安全。
怎么才能做到类的线程安全？栈封闭所有的变量都是在方法内部声明的，这些变量都处于栈封闭状态。
无状态没有任何成员变量的类，就叫无状态的类
让类不可变让状态不可变，两种方式：
1，加final关键字，对于一个类，所有的成员变量应该是私有的，同样的只要有可能，所有的成员变量应该加上final关键字，但是加上final，要注意如果成员变量又是一个对象时，这个对象所对应的类也要是不可变，才能保证整个类是不可变的。
2、根本就不提供任何可供修改成员变量的地方，同时成员变量也不作为方法的返回值
volatile保证类的可见性，最适合一个线程写，多个线程读的情景，
...
            </p>
            <div class="article-meta">
    
    
    <span class="categories-meta fa-wrap">
            <i class="fa fa-folder-open-o"></i>
        <span>并发编程</span>
    </span>
    
    
    <span class="fa-wrap">
         <i class="fa fa-tags"></i>
        <span class="tags-meta">
            
            多线程
            
        </span>
    </span>
    
    
    <span class="fa-wrap">
        <i class="fa fa-clock-o"></i>
        <span class="date-meta ">2019/06/20</span>
    </span>
    
    
    
    <a href="/2019/06/20/thread-6/" class="read-article">Read</a>
    
</div>

        </div>
        
    </li>
    
    
    <li class="article-excerpt-wrap " _href="/2019/06/20/thread-5/">
        <div class="article-img img-ajax" data-src="http://ww2.sinaimg.cn/large/006tNc79ly1g4jmxloga8j30re0cjaab.jpg">
           <div class="loading-img"><i class="fa fa-pulse fa-spinner"></i></div>
        </div>
        <div class="article-excerpt">
            
            <a class="article-title-link" href="/2019/06/20/thread-5/">
                <h2 class="article-title">线程池</h2>
            </a>
            
            <p class="article-content">
                什么是线程池？为什么要用线程池？1、 降低资源的消耗。降低线程创建和销毁的资源消耗；
2、 提高响应速度：线程的创建时间为T1，执行时间T2,销毁时间T3，免去T1和T3的时间
3、 提高线程的可管理性。
JDK中的线程池和工作机制线程池的创建ThreadPoolExecutor，jdk所有线程池实现的父类
各个参数含义int corePoolSize  ：线程池中核心线程数，&lt; corePoolSize  ，就会创建新线程，= corePoolSize  ，这个任务就会保存到BlockingQueue，如果调用prestartAllCoreThreads（）方法就会一次性的启动corePoolSize  个数的线程。
int maximumPoolSize, 允许的最大线程数，BlockingQueue也满了，&lt; maximumPoolSize时候就会再次创建新的线程
...
            </p>
            <div class="article-meta">
    
    
    <span class="categories-meta fa-wrap">
            <i class="fa fa-folder-open-o"></i>
        <span>并发编程</span>
    </span>
    
    
    <span class="fa-wrap">
         <i class="fa fa-tags"></i>
        <span class="tags-meta">
            
            多线程
            
        </span>
    </span>
    
    
    <span class="fa-wrap">
        <i class="fa fa-clock-o"></i>
        <span class="date-meta ">2019/06/20</span>
    </span>
    
    
    
    <a href="/2019/06/20/thread-5/" class="read-article">Read</a>
    
</div>

        </div>
        
    </li>
    
    
    <li class="article-excerpt-wrap " _href="/2019/06/20/thread-4/">
        <div class="article-img img-ajax" data-src="http://ww4.sinaimg.cn/large/006tNc79ly1g4jfljlcocj30q30cbq3z.jpg">
           <div class="loading-img"><i class="fa fa-pulse fa-spinner"></i></div>
        </div>
        <div class="article-excerpt">
            
            <a class="article-title-link" href="/2019/06/20/thread-4/">
                <h2 class="article-title">并发容器</h2>
            </a>
            
            <p class="article-content">
                ConcurrentHashMapHashmap多线程会导致HashMap的Entry链表形成环形数据结构，一旦形成环形数据结构，Entry的next节点永远不为空，就会产生死循环获取Entry。
HashTable使用synchronized来保证线程安全，但在线程竞争激烈的情况下HashTable的效率非常低下。因为当一个线程访问HashTable的同步方法，其他线程也访问HashTable的同步方法时，会进入阻塞或轮询状态。如线程1使用put进行元素添加，线程2不但不能使用put方法添加元素，也不能使用get方法来获取元素，所以竞争越激烈效率越低。
putIfAbsent() ：没有这个值则放入map，有这个值则返回key本来对应的值。
预备知识Hash散列，哈希：把任意长度的输入通过一种算法（散列），变换成为固定长度的输出，这个输出值就是散列值。属于压缩映射，容易产生哈希冲突...
            </p>
            <div class="article-meta">
    
    
    <span class="categories-meta fa-wrap">
            <i class="fa fa-folder-open-o"></i>
        <span>并发编程</span>
    </span>
    
    
    <span class="fa-wrap">
         <i class="fa fa-tags"></i>
        <span class="tags-meta">
            
            多线程
            
        </span>
    </span>
    
    
    <span class="fa-wrap">
        <i class="fa fa-clock-o"></i>
        <span class="date-meta ">2019/06/20</span>
    </span>
    
    
    
    <a href="/2019/06/20/thread-4/" class="read-article">Read</a>
    
</div>

        </div>
        
    </li>
    
    
    <li class="article-excerpt-wrap " _href="/2019/03/05/docker-2/">
        <div class="article-img img-ajax" data-src="http://ww4.sinaimg.cn/large/006tNc79ly1g4jfccec9fj30fe00nq34.jpg">
           <div class="loading-img"><i class="fa fa-pulse fa-spinner"></i></div>
        </div>
        <div class="article-excerpt">
            
            <a class="article-title-link" href="/2019/03/05/docker-2/">
                <h2 class="article-title">docker进阶</h2>
            </a>
            
            <p class="article-content">
                仓库使用docker官方仓库注册https://hub.docker.com
自由注册，邮件激活即可使用

命令使用Docker  pull/search/login/push/tag
tag [镜像名：版本]  [仓库]/[镜像名：版本]：标记本地镜像，将其归入某一仓库
Push [仓库]/[镜像名：版本]: 推送镜像到仓库  –需要登陆 
Search [镜像名]：在仓库中查询镜像 – 无法查询到tag版本 
Pull [镜像名：版本]： 下载镜像到本地 
Login：登陆仓库 
1、命令登陆dockerhub

2、再使用tag命令标记一个镜像，指定自己的仓库

3、使用push命令推送此镜像到仓库里

4、打开查询自己仓库的镜像

私有仓库搭建下载registry镜像：docker pull registry
—–可配置加速器加速下载 

启动docker run -d –n...
            </p>
            <div class="article-meta">
    
    
    <span class="categories-meta fa-wrap">
            <i class="fa fa-folder-open-o"></i>
        <span>docker</span>
    </span>
    
    
    <span class="fa-wrap">
         <i class="fa fa-tags"></i>
        <span class="tags-meta">
            
            docker
            
        </span>
    </span>
    
    
    <span class="fa-wrap">
        <i class="fa fa-clock-o"></i>
        <span class="date-meta ">2019/03/05</span>
    </span>
    
    
    
    <a href="/2019/03/05/docker-2/" class="read-article">Read</a>
    
</div>

        </div>
        
    </li>
    
    

</ul>

<div id="page-pagination">
    <div id="page-nav">
        <a class="extend prev" rel="prev" href="/">&laquo; Prev</a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><a class="page-number" href="/page/4/">4</a><a class="extend next" rel="next" href="/page/3/">Next &raquo;</a>
    </div>
</div>

    </div>
    <footer id="footer">
    
    <div class="social">
        
        <a href="https://github.com/EllenJack/ellenjack.github.io.git" class="fa fa-free-code-camp" target="_blank" title="freecodecamp"></a>
        
        <a href="https://github.com/EllenJack/ellenjack.github.io.git" class="fa fa-github" target="_blank" title="Follow me~"></a>
        
    </div>
    
    <div>
        
        <a href="/" class="copyright-links">lill</a>&copy;2015 - 2020.All Rights
        Reserved.
    </div>
    <p>Powered by <a href="https://hexo.io" class="copyright-links" target="_blank">Hexo</a> | Theme by <a href="https://github.com/GeekaholicLin" class="copyright-links" target="_blank">GeekaholicLin</a>
    </p>
    
</footer>

</div>
    <ul id="tools">
    <li class="totop-btn fa fa-angle-up"></li>
    <li class="exchange-btn fa fa-exchange"></li>
  
    

    
</ul>
<p id="process"></p>
<div id="search-overlay">
    <div class="search-area-wrap">
        <div id="search-area">
            <div class="input-wrap focus">
                <i class="fa fa-search" aria-hidden="true"></i>
                <input id="search-input" autofocus autocomplete="off" type="text" placeholder="search this website...">
            </div>
            <ul id="search-result">
                <li class="load-first"><i class="fa fa-spinner fa-pulse"></i></li>
            </ul>
        </div>
    </div>
</div>




<script src="/js/search.js"></script>
<script type="text/javascript">
    //theme config datas
    var copyrightObj = {};
    copyrightObj.enable = 'true';
    copyrightObj.triggerCopyLength = '200';
    copyrightObj.appendText = '商业转载请联系作者获得授权,非商业转载请注明出处 © example';
    var leancloudObj = {};
    leancloudObj.enable = 'false';
    leancloudObj.className = 'BlogCounter';
    leancloudObj.limits = '10';
</script>
<script type="text/javascript">
    var search = {};
    var search_path = "search.xml";
    if (!search_path) {
        search_path = "search.xml";
    }
    search.path = "/" + search_path;
    search.func =  _ajax.init();
</script>
<script src="/js/app.js"></script>


</body>
</html>